<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–æ–∑–¥–∞—Ç—å/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç | SocialBlog</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">SocialBlog</div>
      <div class="menu" id="navMenu">
        <a href="/">–ü–æ—Å—Ç—ã</a>
        <a href="/collections">–ö–æ–ª–ª–µ–∫—Ü–∏–∏</a>
        <a href="/create" class="active">–°–æ–∑–¥–∞—Ç—å</a>
      </div>
    </nav>
  </header>

  <main class="create-post-page">
    <h1>–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</h1>
    <form class="post-form" method="post" enctype="multipart/form-data">
      
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <label for="title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
      <input type="text" id="title" name="title" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫..." required>

      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
      <label for="content">–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞</label>
      <textarea id="content" name="content" rows="6" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ..." required></textarea>

      <!-- –¢–µ–≥–∏ -->
      <label for="tags">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–≥–∏</label>
      <select id="tags" name="tags[]" multiple>
        <option value="blog">#–±–ª–æ–≥</option>
        <option value="webdev">#webdev</option>
        <option value="design">#–¥–∏–∑–∞–π–Ω</option>
        <option value="life">#–∂–∏–∑–Ω—å</option>
        <option value="python">#python</option>
        <option value="tech">#tech</option>
      </select>
      <small>–ó–∞–∂–º–∏—Ç–µ Ctrl (–∏–ª–∏ Cmd –Ω–∞ Mac), —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ</small>

      <!-- –ì–∞–ª–µ—Ä–µ—è -->
      <label for="images">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
      <input type="file" id="images" name="images" multiple accept="image/*">

      <!-- –ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫ -->
      <div class="image-preview" id="imagePreview">
        <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –ø—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...</p>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <div class="form-actions">
        <button type="submit" class="save-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button type="reset" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
      </div>
    </form>
  </main>

  <footer class="footer">
    <div class="footer-container">
      <div class="logo">SocialBlog</div>
      <p>¬© 2025 SocialBlog</p>
    </div>
  </footer>

  <script>
    const input = document.getElementById("images");
    const preview = document.getElementById("imagePreview");

    let filesArray = [];

    input.addEventListener("change", () => {
      filesArray = Array.from(input.files);
      renderPreviews();
    });

    function renderPreviews() {
      preview.innerHTML = "";
      if (filesArray.length === 0) {
        preview.innerHTML = "<p>–§–∞–π–ª—ã –Ω–µ –≤—ã–±—Ä–∞–Ω—ã.</p>";
        return;
      }

      filesArray.forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = e => {
          const wrapper = document.createElement("div");
          wrapper.classList.add("preview-item");

          const img = document.createElement("img");
          img.src = e.target.result;
          img.classList.add("preview-img");

          const removeBtn = document.createElement("button");
          removeBtn.innerHTML = "‚ùå";
          removeBtn.classList.add("remove-btn");
          removeBtn.onclick = () => {
            filesArray.splice(index, 1);
            updateFileInput();
            renderPreviews();
          };

          wrapper.appendChild(img);
          wrapper.appendChild(removeBtn);
          preview.appendChild(wrapper);
        };
        reader.readAsDataURL(file);
      });
    }

    function updateFileInput() {
      const dataTransfer = new DataTransfer();
      filesArray.forEach(file => dataTransfer.items.add(file));
      input.files = dataTransfer.files;
    }
  </script>
</body>
</html>
